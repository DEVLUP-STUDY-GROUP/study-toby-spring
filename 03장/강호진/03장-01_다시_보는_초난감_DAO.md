# 3장 템플릿

## 3.0 들어가기

- 개방 폐쇄 원칙(OCP)
    - 코드에서 어떤 부분은 변하경을 통해 그 기능이 다양해지고 확장하려는 성질이 있고, 어떤 부분은 고정되어 있고 변하지 않으려는 성질이 있음
    - 변화의 특성이 다른 부분을 구분해주고, 각자 다른 목적과 다른 이유에 의해 다른 시점에 독립적으로 변경될 수 있는 효율적인 구조를 만들어주는 것
- 템플릿
    - 바뀌는 성질이 다른 코드 중에서 변경이 거의 일어나지 않음
    - 일정한 패턴으로 유지되는 특성을 가진 부분을 자유롭게 변경되는 성질을 가진부분으로 독립시켜서 효과적으로 활용할 수 있도록 하는 방법

## 3.1 다시 보는 초난감 DAO

### 3.1.1 예외처리 기능을 갖춘 DAO

- DB 커넥션이라는 제한적인 리소스를 공유해 사용하는 서버에서 동작하는 JDBC 코드에는 반드시 지켜야할 원칙 → 예외처리
- 정상적인 JDBC 코드의 흐름을 따르지 않고 중간에 예외가 발생햇을 경우에도 사용한 리소스를 반드시 반환하도록 만들어야 함
- 일반적으로 서버에서는 제한된 개수의 DB 커넥션을 만들어서 재사용하능한 풀로 관리
- 오류가 날때마다 미처 반환하지 못한 Connectiond 계속쌓이면 어느 순간 커넥션 풀에 여유가 없어지고 리소스가 모자란다는 심각한 오류를 내며 서버 중단 가능
- 예외상황에 대한 처리를 모두 마침
    - 서버 환경에서도 안정적으로 주행될수 있으면서 DB 연결기능을 자유롭게 확장할 수 있는 이상적인 DAO이지만 아쉬움 